<!DOCTYPE html>
<html lang="es">
  <head>
    <title>Pizzería - Menú y Pedidos</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>

    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet"/>
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/style.css" />
    
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="indexnew.html">
                <span class="fas fa-pizza-slice mr-2"></span>Pizzería <small>Deliciosa</small>
            </a>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a href="indexnew.html" class="nav-link">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a href="viewmenu.html" class="nav-link">Menú</a>
                    </li>
                    <li class="nav-item active">
                        <a href="ordernew.html" class="nav-link">Carrito de compras</a>
                    </li>
                    <li class="nav-item active">
                        <a href="historial.html" class="nav-link">Historial</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <section class="jumbotron text-center" style="background-image: url(images/bg_1.jpg); background-size: cover; color: white;">
      <div class="container">
        <h1 class="display-4">Deliciosas Pizzas</h1>
        <p class="lead">Selecciona tus favoritas y ordénalas en línea</p>
        <a href="#menu" class="btn btn-primary btn-lg">Ver Menú</a>
      </div>
    </section>

    <section id="menu" class="container py-5">
      <div class="row">
        <div class="col-md-12 text-center mb-5">
          <h2>Catálogo de Pizzas</h2>
          <p class="lead">Selecciona las pizzas que deseas ordenar</p>
        </div>
      </div>

      <div class="row">
        <!-- Pizza 1 -->
        <div class="col-md-4 mb-4">
          <div class="card h-100">
            <img src="images/pizza-1.jpg" class="card-img-top" alt="Pizza Italiana">
            <div class="card-body">
              <h5 class="card-title">Pizza Italiana</h5>
              <p class="card-text">Salsa de tomate, mozzarella fresca, albahaca y aceite de oliva.</p>
              <div class="d-flex justify-content-between align-items-center">
                <span class="price">$12.99</span>
                <button class="btn btn-sm btn-primary add-to-cart" data-id="1" data-name="Pizza Italiana" data-price="12.99">Agregar</button>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Pizza 2 -->
        <div class="col-md-4 mb-4">
          <div class="card h-100">
            <img src="images/pizza-2.jpg" class="card-img-top" alt="Pizza Hawaiana">
            <div class="card-body">
              <h5 class="card-title">Pizza Hawaiana</h5>
              <p class="card-text">Jamón, piña, mozzarella y salsa de tomate.</p>
              <div class="d-flex justify-content-between align-items-center">
                <span class="price">$14.99</span>
                <button class="btn btn-sm btn-primary add-to-cart" data-id="2" data-name="Pizza Hawaiana" data-price="14.99">Agregar</button>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Pizza 3 -->
        <div class="col-md-4 mb-4">
          <div class="card h-100">
            <img src="images/pizza-3.jpg" class="card-img-top" alt="Pizza Pepperoni">
            <div class="card-body">
              <h5 class="card-title">Pizza Pepperoni</h5>
              <p class="card-text">Doble pepperoni, mozzarella y salsa de tomate.</p>
              <div class="d-flex justify-content-between align-items-center">
                <span class="price">$13.99</span>
                <button class="btn btn-sm btn-primary add-to-cart" data-id="3" data-name="Pizza Pepperoni" data-price="13.99">Agregar</button>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Pizza 4 -->
        <div class="col-md-4 mb-4">
          <div class="card h-100">
            <img src="images/pizza-4.jpg" class="card-img-top" alt="Pizza Vegetariana">
            <div class="card-body">
              <h5 class="card-title">Pizza Vegetariana</h5>
              <p class="card-text">Pimientos, cebolla, champiñones, aceitunas y mozzarella.</p>
              <div class="d-flex justify-content-between align-items-center">
                <span class="price">$15.99</span>
                <button class="btn btn-sm btn-primary add-to-cart" data-id="4" data-name="Pizza Vegetariana" data-price="15.99">Agregar</button>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Pizza 5 -->
        <div class="col-md-4 mb-4">
          <div class="card h-100">
            <img src="images/pizza-5.jpg" class="card-img-top" alt="Pizza BBQ">
            <div class="card-body">
              <h5 class="card-title">Pizza BBQ</h5>
              <p class="card-text">Pollo, salsa BBQ, cebolla caramelizada y mozzarella.</p>
              <div class="d-flex justify-content-between align-items-center">
                <span class="price">$16.99</span>
                <button class="btn btn-sm btn-primary add-to-cart" data-id="5" data-name="Pizza BBQ" data-price="16.99">Agregar</button>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Pizza 6 -->
        <div class="col-md-4 mb-4">
          <div class="card h-100">
            <img src="images/pizza-6.jpg" class="card-img-top" alt="Pizza Margherita">
            <div class="card-body">
              <h5 class="card-title">Pizza Margherita</h5>
              <p class="card-text">Salsa de tomate, mozzarella fresca, albahaca y aceite de oliva.</p>
              <div class="d-flex justify-content-between align-items-center">
                <span class="price">$11.99</span>
                <button class="btn btn-sm btn-primary add-to-cart" data-id="6" data-name="Pizza Margherita" data-price="11.99">Agregar</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Mini carrito flotante -->
    <div class="fixed-bottom d-flex justify-content-end p-3">
      <div class="card shadow-lg" style="width: 300px;">
        <div class="card-header bg-primary text-white">
          <h5 class="mb-0">Mi Pedido</h5>
        </div>
        <div class="card-body p-2" id="cart-items">
          <p class="text-muted text-center">No hay items en tu pedido</p>
        </div>
        <div class="card-footer">
          <div class="d-flex justify-content-between mb-2">
            <strong>Total:</strong>
            <span id="cart-total">$0.00</span>
          </div>
          <a href="ordernew.html" class="btn btn-success btn-block">Finalizar Pedido</a>
        </div>
      </div>
    </div>

    <footer class="bg-dark text-white py-4 mt-5">
      <div class="container">
        <div class="row">
          <div class="col-md-6">
            <h5>Horario de Atención</h5>
            <p>Lunes a Viernes: 11:00 AM - 10:00 PM</p>
            <p>Sábado y Domingo: 12:00 PM - 11:00 PM</p>
          </div>
          <div class="col-md-6">
            <h5>Contacto</h5>
            <p><i class="fas fa-phone"></i> (123) 456-7890</p>
            <p><i class="fas fa-envelope"></i> info@pizzeria.com</p>
            <p><i class="fas fa-map-marker-alt"></i> Calle Principal #123, Ciudad</p>
          </div>
        </div>
        <hr class="bg-light">
        <div class="text-center">
          <p class="mb-0">&copy; 2023 Pizzería Deliciosa. Todos los derechos reservados.</p>
        </div>
      </div>
    </footer>

    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script>
      $(document).ready(function() {
        let cart = [];
        
        // Agregar al carrito
        $('.add-to-cart').click(function() {
          const id = $(this).data('id');
          const name = $(this).data('name');
          const price = parseFloat($(this).data('price'));
          
          // Verificar si ya existe en el carrito
          const existingItem = cart.find(item => item.id === id);
          
          if (existingItem) {
            existingItem.quantity += 1;
          } else {
            cart.push({
              id: id,
              name: name,
              price: price,
              quantity: 1
            });
          }
          
          updateCart();
        });
        
        // Actualizar el carrito
        function updateCart() {
          const $cartItems = $('#cart-items');
          const $cartTotal = $('#cart-total');
          
          $cartItems.empty();
          
          if (cart.length === 0) {
            $cartItems.append('<p class="text-muted text-center">No hay items en tu pedido</p>');
            $cartTotal.text('$0.00');
            return;
          }
          
          let total = 0;
          
          cart.forEach(item => {
            const itemTotal = item.price * item.quantity;
            total += itemTotal;
            
            $cartItems.append(`
              <div class="d-flex justify-content-between align-items-center mb-2">
                <span>${item.name} x${item.quantity}</span>
                <span>$${itemTotal.toFixed(2)}</span>
              </div>
            `);
          });
          
          $cartTotal.text('$' + total.toFixed(2));
          
          // Guardar en localStorage
          localStorage.setItem('pizzaCart', JSON.stringify(cart));
        }
        
        // Cargar carrito desde localStorage al iniciar
        const savedCart = localStorage.getItem('pizzaCart');
        if (savedCart) {
          cart = JSON.parse(savedCart);
          updateCart();
        }
      });
    </script>
  </body>
</html>